# CNC Helper ‚Äî Telegram-–±–æ—Ç –¥–æ–≤—ñ–¥–Ω–∏–∫ —Ä–µ–∂–∏–º—ñ–≤ —Ñ—Ä–µ–∑–µ—Ä—É–≤–∞–Ω–Ω—è

Telegram-–±–æ—Ç, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º –ß–ü–ö-–≤–µ—Ä—Å—Ç–∞—Ç—ñ–≤ –ø—ñ–¥—ñ–±—Ä–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ —Ä–µ–∂–∏–º–∏ —Ä—ñ–∑–∞–Ω–Ω—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—É —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å —à—É–∫–∞—Ç–∏ —Ä–µ–∂–∏–º–∏, –æ—Ü—ñ–Ω—é–≤–∞—Ç–∏ —ó—Ö, –∑–∞–ª–∏—à–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —Ç–∞ –ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ.

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π

| –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—è | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|------------|-------------|
| **TypeScript** | –û—Å–Ω–æ–≤–Ω–∞ –º–æ–≤–∞ —Ä–æ–∑—Ä–æ–±–∫–∏ |
| **NestJS** | –°–µ—Ä–≤–µ—Ä–Ω–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–º–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, DI) |
| **grammY** | –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Telegram Bot API |
| **Prisma** | ORM –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, –º—ñ–≥—Ä–∞—Ü—ñ—ó, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–∏–ø—ñ–≤ |
| **PostgreSQL** | –†–µ–ª—è—Ü—ñ–π–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö |

## –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- –ü–æ—à—É–∫ —Ä–µ–∂–∏–º—ñ–≤ —Ä—ñ–∑–∞–Ω–Ω—è –∑–∞ –∑–≤'—è–∑–∫–æ—é **–º–∞—Ç–µ—Ä—ñ–∞–ª + —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç**
- –ö–∞—Ç–∞–ª–æ–≥ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
- –†–µ–π—Ç–∏–Ω–≥–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ (–ª–∞–π–∫/–¥–∏–∑–ª–∞–π–∫) –¥–ª—è —Ä–µ–∂–∏–º—ñ–≤
- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ —Ä–µ–∂–∏–º—ñ–≤
- –û–±—Ä–∞–Ω–µ ‚Äî –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–∏—Ö —Ä–µ–∂–∏–º—ñ–≤
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é
- –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

## –†–æ–ª—ñ

| –†–æ–ª—å | –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ |
|------|------------|
| **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á** | –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É —Ç–∞ —Ä–µ–∂–∏–º—ñ–≤, –ª–∞–π–∫/–¥–∏–∑–ª–∞–π–∫, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ, –æ–±—Ä–∞–Ω–µ, –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ–∂–∏–º—ñ–≤/–º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤/—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ (–∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é) |
| **–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä** | –í—Å–µ —Ç–µ —Å–∞–º–µ + –º–æ–¥–µ—Ä–∞—Ü—ñ—è –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ–π, –ø—Ä—è–º–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É –±–µ–∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó |

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–∞ Telegram ID. –û–∫—Ä–µ–º–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞.

## –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ä–µ–∂–∏–º—É —Ä—ñ–∑–∞–Ω–Ω—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü—Ä–∏–∫–ª–∞–¥ |
|----------|---------|
| –û–±–µ—Ä—Ç–∏ —à–ø–∏–Ω–¥–µ–ª—è (RPM) | 18 000 –æ–±/—Ö–≤ |
| –ü–æ–¥–∞—á–∞ (Feed Rate) | 3 600 –º–º/—Ö–≤ |
| –ì–ª–∏–±–∏–Ω–∞ –∑–∞ –ø—Ä–æ—Ö—ñ–¥ | 3 –º–º |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥—É

**–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏** —Ä–æ–∑–¥—ñ–ª–µ–Ω—ñ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏:
- –ü–ª–∏—Ç–∏ ‚Üí –§–∞–Ω–µ—Ä–∞, –ú–î–§, –î–°–ü...
- –ú–µ—Ç–∞–ª–∏ ‚Üí –ê–ª—é–º—ñ–Ω—ñ–π, –ë—Ä–æ–Ω–∑–∞, –õ–∞—Ç—É–Ω—å...
- ...

**–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏** –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—é—Ç—å—Å—è –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏:
- –ü–∞–∑–æ–≤—ñ —Ñ—Ä–µ–∑–∏
- –†–∞–¥—ñ—É—Å–Ω—ñ —Ñ—Ä–µ–∑–∏
- –ö–æ–Ω—ñ—á–Ω—ñ —Ñ—Ä–µ–∑–∏
- ...

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å | –ü—Ä–∏–∫–ª–∞–¥ |
|----------|------|---------|
| –î—ñ–∞–º–µ—Ç—Ä —Ä—ñ–∑–∞–ª—å–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ (D) | –î—ñ–∞–º–µ—Ç—Ä —Ä–æ–±–æ—á–æ—ó –∑–æ–Ω–∏ —Ñ—Ä–µ–∑–∏ | 4 –º–º |
| –î—ñ–∞–º–µ—Ç—Ä —Ö–≤–æ—Å—Ç–æ–≤–∏–∫–∞ | –ß–∞—Å—Ç–∏–Ω–∞, —â–æ –∑–∞—Ç–∏—Å–∫–∞—î—Ç—å—Å—è –≤ —Ü–∞–Ω–≥—É —à–ø–∏–Ω–¥–µ–ª—è | 6 –º–º |
| –ó–∞–≥–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ (OAL) | –ü–æ–≤–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ —Ñ—Ä–µ–∑–∏ –≤—ñ–¥ –∫—ñ–Ω—á–∏–∫–∞ –¥–æ –∫—ñ–Ω—Ü—è —Ö–≤–æ—Å—Ç–æ–≤–∏–∫–∞ | 50 –º–º |
| –†–æ–±–æ—á–∞ –¥–æ–≤–∂–∏–Ω–∞ (LOC) | –î–æ–≤–∂–∏–Ω–∞ —Ä—ñ–∑–∞–ª—å–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ –∑ –∫–∞–Ω–∞–≤–∫–∞–º–∏ | 22 –º–º |
| –ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑—É–±—Ü—ñ–≤ (–∑–∞—Ö–æ–¥—ñ–≤) | –ß–∏—Å–ª–æ —Ä—ñ–∑–∞–ª—å–Ω–∏—Ö –∫—Ä–æ–º–æ–∫ (1, 2, 3+) | 2 |

## –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (ERD)

```mermaid
erDiagram
    User {
        Int id PK
        BigInt telegram_id UK
        String username
        Role role "USER | ADMIN"
        DateTime created_at
    }

    MaterialCategory {
        Int id PK
        String name UK
        Status status "PENDING | APPROVED | REJECTED"
        Int created_by FK
        DateTime created_at
    }

    Material {
        Int id PK
        String name
        Int category_id FK
        Status status "PENDING | APPROVED | REJECTED"
        Int created_by FK
        DateTime created_at
    }

    ToolCategory {
        Int id PK
        String name UK
        Status status "PENDING | APPROVED | REJECTED"
        Int created_by FK
        DateTime created_at
    }

    Tool {
        Int id PK
        String name
        Int category_id FK
        Float diameter "–î—ñ–∞–º–µ—Ç—Ä —Ä—ñ–∑–∞–ª—å–Ω–æ—ó —á–∞—Å—Ç–∏–Ω–∏ (–º–º)"
        Float shank_diameter "–î—ñ–∞–º–µ—Ç—Ä —Ö–≤–æ—Å—Ç–æ–≤–∏–∫–∞ (–º–º)"
        Float oal "–ó–∞–≥–∞–ª—å–Ω–∞ –¥–æ–≤–∂–∏–Ω–∞ (–º–º)"
        Float loc "–†–æ–±–æ—á–∞ –¥–æ–≤–∂–∏–Ω–∞ (–º–º)"
        Int flute_count "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∑—É–±—Ü—ñ–≤"
        Status status "PENDING | APPROVED | REJECTED"
        Int created_by FK
        DateTime created_at
    }

    CuttingMode {
        Int id PK
        Int material_id FK
        Int tool_id FK
        Int spindle_speed "–û–±–µ—Ä—Ç–∏ —à–ø–∏–Ω–¥–µ–ª—è (–æ–±/—Ö–≤)"
        Int feed_rate "–ü–æ–¥–∞—á–∞ (–º–º/—Ö–≤)"
        Float depth_per_pass "–ì–ª–∏–±–∏–Ω–∞ –∑–∞ –ø—Ä–æ—Ö—ñ–¥ (–º–º)"
        Status status "PENDING | APPROVED | REJECTED"
        Int created_by FK
        DateTime created_at
    }

    Vote {
        Int id PK
        Int cutting_mode_id FK
        Int user_id FK
        Boolean is_like "true = –ª–∞–π–∫, false = –¥–∏–∑–ª–∞–π–∫"
        DateTime created_at
    }

    Comment {
        Int id PK
        Int cutting_mode_id FK
        Int user_id FK
        String text
        DateTime created_at
    }

    Favorite {
        Int id PK
        Int cutting_mode_id FK
        Int user_id FK
        DateTime created_at
    }

    User ||--o{ MaterialCategory : "—Å—Ç–≤–æ—Ä—é—î"
    User ||--o{ Material : "—Å—Ç–≤–æ—Ä—é—î"
    User ||--o{ ToolCategory : "—Å—Ç–≤–æ—Ä—é—î"
    User ||--o{ Tool : "—Å—Ç–≤–æ—Ä—é—î"
    User ||--o{ CuttingMode : "—Å—Ç–≤–æ—Ä—é—î"
    User ||--o{ Vote : "–≥–æ–ª–æ—Å—É—î"
    User ||--o{ Comment : "–∫–æ–º–µ–Ω—Ç—É—î"
    User ||--o{ Favorite : "–∑–±–µ—Ä—ñ–≥–∞—î"

    MaterialCategory ||--o{ Material : "–º—ñ—Å—Ç–∏—Ç—å"
    ToolCategory ||--o{ Tool : "–º—ñ—Å—Ç–∏—Ç—å"

    Material ||--o{ CuttingMode : "–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤"
    Tool ||--o{ CuttingMode : "–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤"

    CuttingMode ||--o{ Vote : "–º–∞—î"
    CuttingMode ||--o{ Comment : "–º–∞—î"
    CuttingMode ||--o{ Favorite : "–º–∞—î"
```

### –û–ø–∏—Å —Å—É—Ç–Ω–æ—Å—Ç–µ–π

| –°—É—Ç–Ω—ñ—Å—Ç—å | –û–ø–∏—Å |
|----------|------|
| **User** | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–æ—Ç–∞, —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î—Ç—å—Å—è –∑–∞ Telegram ID |
| **MaterialCategory** | –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ (–ü–ª–∏—Ç–∏, –ú–µ—Ç–∞–ª–∏ —Ç–æ—â–æ) |
| **Material** | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª (–§–∞–Ω–µ—Ä–∞, –ê–ª—é–º—ñ–Ω—ñ–π —Ç–æ—â–æ) |
| **ToolCategory** | –ö–∞—Ç–µ–≥–æ—Ä—ñ—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ (–ü–∞–∑–æ–≤—ñ, –†–∞–¥—ñ—É—Å–Ω—ñ —Ç–æ—â–æ) |
| **Tool** | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ |
| **CuttingMode** | –†–µ–∂–∏–º —Ä—ñ–∑–∞–Ω–Ω—è ‚Äî –∑–≤'—è–∑–∫–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª + —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç + –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ |
| **Vote** | –õ–∞–π–∫ –∞–±–æ –¥–∏–∑–ª–∞–π–∫ –Ω–∞ —Ä–µ–∂–∏–º (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π: –æ–¥–∏–Ω –≥–æ–ª–æ—Å –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á + —Ä–µ–∂–∏–º) |
| **Comment** | –¢–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä –¥–æ —Ä–µ–∂–∏–º—É |
| **Favorite** | –ó–±–µ—Ä–µ–∂–µ–Ω–∏–π —Ä–µ–∂–∏–º –≤ –æ–±—Ä–∞–Ω–æ–º—É (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π: –æ–¥–∏–Ω –Ω–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á + —Ä–µ–∂–∏–º) |

### –°—Ç–∞—Ç—É—Å–∏ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó

```
PENDING ‚Üí APPROVED   (–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Å—Ö–≤–∞–ª–∏–≤)
PENDING ‚Üí REJECTED   (–∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ñ–¥—Ö–∏–ª–∏–≤)
```

–ö–æ–Ω—Ç–µ–Ω—Ç, –¥–æ–¥–∞–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º, –æ–¥—Ä–∞–∑—É –æ—Ç—Ä–∏–º—É—î —Å—Ç–∞—Ç—É—Å `APPROVED`.

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º–∏

### –ó–∞–≥–∞–ª—å–Ω–∞ —Å—Ö–µ–º–∞

```mermaid
graph TB
    TG["Telegram API"] <-->|"Webhook / Long Polling"| Bot["grammY Bot"]

    subgraph NestJS["NestJS Application"]
        Bot --> BotModule["BotModule<br/>(Handlers, Middleware)"]

        BotModule --> CatalogModule["CatalogModule"]
        BotModule --> ModeModule["CuttingModeModule"]
        BotModule --> UserModule["UserModule"]
        BotModule --> ModerationModule["ModerationModule"]
        BotModule --> FavoriteModule["FavoriteModule"]

        CatalogModule --> CatalogService["CatalogService"]
        ModeModule --> ModeService["CuttingModeService"]
        ModeModule --> VoteService["VoteService"]
        ModeModule --> CommentService["CommentService"]
        UserModule --> UserService["UserService"]
        ModerationModule --> ModerationService["ModerationService"]
        FavoriteModule --> FavoriteService["FavoriteService"]

        CatalogService --> Prisma["PrismaService"]
        ModeService --> Prisma
        VoteService --> Prisma
        CommentService --> Prisma
        UserService --> Prisma
        ModerationService --> Prisma
        FavoriteService --> Prisma
    end

    Prisma <--> DB[("PostgreSQL")]
```

### –ú–æ–¥—É–ª—ñ NestJS

| –ú–æ–¥—É–ª—å | –í—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å |
|--------|-----------------|
| **BotModule** | –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è grammY, –æ–±—Ä–æ–±–∫–∞ –∫–æ–º–∞–Ω–¥ —Ç–∞ callback-–∫–Ω–æ–ø–æ–∫, middleware (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è, –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª—ñ) |
| **UserModule** | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞ Telegram ID, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ä–æ–ª—è–º–∏ |
| **CatalogModule** | CRUD –¥–ª—è –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ —ó—Ö –∫–∞—Ç–µ–≥–æ—Ä—ñ–π |
| **CuttingModeModule** | –ü–æ—à—É–∫ —Ä–µ–∂–∏–º—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è, –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ |
| **FavoriteModule** | –î–æ–¥–∞–≤–∞–Ω–Ω—è / –≤–∏–¥–∞–ª–µ–Ω–Ω—è / –ø–µ—Ä–µ–≥–ª—è–¥ –æ–±—Ä–∞–Ω–æ–≥–æ |
| **ModerationModule** | –ß–µ—Ä–≥–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó, —Å—Ö–≤–∞–ª–µ–Ω–Ω—è / –≤—ñ–¥—Ö–∏–ª–µ–Ω–Ω—è, —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è |
| **PrismaModule** | –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î, –≥–ª–æ–±–∞–ª—å–Ω–∏–π —Å–µ—Ä–≤—ñ—Å Prisma |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
src/
‚îú‚îÄ‚îÄ app.module.ts
‚îú‚îÄ‚îÄ main.ts
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ bot.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ bot.service.ts              # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è grammY
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.handler.ts        # /start
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search.handler.ts       # –ü–æ—à—É–∫ —Ä–µ–∂–∏–º—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog.handler.ts      # –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—ñ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ suggest.handler.ts      # –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ favorite.handler.ts     # –û–±—Ä–∞–Ω–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my-modes.handler.ts     # –ú–æ—ó —Ä–µ–∂–∏–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ moderation.handler.ts   # –ú–æ–¥–µ—Ä–∞—Ü—ñ—è (–∞–¥–º—ñ–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inline.keyboards.ts     # Inline-–∫–Ω–æ–ø–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ middleware/
‚îÇ       ‚îî‚îÄ‚îÄ auth.middleware.ts       # –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è + —Ä–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îú‚îÄ‚îÄ user/
‚îÇ   ‚îú‚îÄ‚îÄ user.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ user.service.ts
‚îú‚îÄ‚îÄ catalog/
‚îÇ   ‚îú‚îÄ‚îÄ catalog.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ catalog.service.ts
‚îú‚îÄ‚îÄ cutting-mode/
‚îÇ   ‚îú‚îÄ‚îÄ cutting-mode.module.ts
‚îÇ   ‚îú‚îÄ‚îÄ cutting-mode.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ vote.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ comment.service.ts
‚îú‚îÄ‚îÄ favorite/
‚îÇ   ‚îú‚îÄ‚îÄ favorite.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ favorite.service.ts
‚îú‚îÄ‚îÄ moderation/
‚îÇ   ‚îú‚îÄ‚îÄ moderation.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ moderation.service.ts
‚îî‚îÄ‚îÄ prisma/
    ‚îú‚îÄ‚îÄ prisma.module.ts
    ‚îî‚îÄ‚îÄ prisma.service.ts

prisma/
‚îú‚îÄ‚îÄ schema.prisma
‚îî‚îÄ‚îÄ migrations/
```

### –ü–æ—Ç—ñ–∫ –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É

```mermaid
graph LR
    A["Telegram\n(–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è / callback)"] --> B["grammY\nMiddleware"]
    B --> C["Auth Middleware\n(—Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, —Ä–æ–ª—å)"]
    C --> D["Handler\n(–∫–æ–º–∞–Ω–¥–∞ / callback)"]
    D --> E["Service\n(–±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞)"]
    E --> F["Prisma\n(–∑–∞–ø–∏—Ç –¥–æ –ë–î)"]
    F --> G[("PostgreSQL")]
    G --> F
    F --> E
    E --> D
    D --> H["–í—ñ–¥–ø–æ–≤—ñ–¥—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É\n(—Ç–µ–∫—Å—Ç + inline-–∫–Ω–æ–ø–∫–∏)"]
```

## UML-–¥—ñ–∞–≥—Ä–∞–º–∏

### Use Case –¥—ñ–∞–≥—Ä–∞–º–∞

```mermaid
graph TB
    subgraph "CNC Helper Bot"

        subgraph "–ö–∞—Ç–∞–ª–æ–≥"
            UC1["UC-1: –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤"]
            UC2["UC-2: –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤"]
            UC3["UC-3: –ü–æ—à—É–∫ —Ä–µ–∂–∏–º—ñ–≤ —Ä—ñ–∑–∞–Ω–Ω—è"]
        end

        subgraph "–í–∑–∞—î–º–æ–¥—ñ—è –∑ —Ä–µ–∂–∏–º–∞–º–∏"
            UC4["UC-4: –û—Ü—ñ–Ω–∫–∞ —Ä–µ–∂–∏–º—É"]
            UC5["UC-5: –ö–æ–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É"]
            UC6["UC-6: –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤ –æ–±—Ä–∞–Ω–µ"]
            UC7["UC-7: –ü–µ—Ä–µ–≥–ª—è–¥ –æ–±—Ä–∞–Ω–æ–≥–æ"]
        end

        subgraph "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç"
            UC8["UC-8: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ–∂–∏–º—É"]
            UC9["UC-9: –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É"]
            UC10["UC-10: –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä–µ–∂–∏–º—É"]
            UC11["UC-11: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –º–∞—Ç–µ—Ä—ñ–∞–ª—É"]
            UC12["UC-12: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É"]
            UC13["UC-13: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó"]
        end

        subgraph "–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä—É–≤–∞–Ω–Ω—è"
            UC14["UC-14: –ú–æ–¥–µ—Ä–∞—Ü—ñ—è —Ä–µ–∂–∏–º—ñ–≤"]
            UC15["UC-15: –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –∫–∞—Ç–∞–ª–æ–≥—É"]
            UC16["UC-16: –ü—Ä—è–º–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É"]
            UC17["UC-17: –ü—Ä—è–º–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É"]
        end
    end

    User(("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á"))
    Admin(("–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä"))

    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    User --> UC10
    User --> UC11
    User --> UC12
    User --> UC13

    Admin --> UC1
    Admin --> UC2
    Admin --> UC3
    Admin --> UC4
    Admin --> UC5
    Admin --> UC6
    Admin --> UC7
    Admin --> UC14
    Admin --> UC15
    Admin --> UC16
    Admin --> UC17

    UC3 -.->|"include"| UC1
    UC3 -.->|"include"| UC2
    UC4 -.->|"extend"| UC3
    UC5 -.->|"extend"| UC3
    UC6 -.->|"extend"| UC3
```

### Sequence –¥—ñ–∞–≥—Ä–∞–º–∞: –ü–æ—à—É–∫ —Ä–µ–∂–∏–º—ñ–≤ —Ä—ñ–∑–∞–Ω–Ω—è (UC-3)

```mermaid
sequenceDiagram
    actor U as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant B as Telegram Bot
    participant S as CuttingModeService
    participant DB as PostgreSQL

    U->>B: /search
    B->>DB: –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤
    DB-->>B: –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
    B-->>U: Inline-–∫–Ω–æ–ø–∫–∏ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏

    U->>B: –û–±–∏—Ä–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é (callback)
    B->>DB: –û—Ç—Ä–∏–º–∞—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
    DB-->>B: –°–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤
    B-->>U: Inline-–∫–Ω–æ–ø–∫–∏ –∑ –º–∞—Ç–µ—Ä—ñ–∞–ª–∞–º–∏

    U->>B: –û–±–∏—Ä–∞—î –º–∞—Ç–µ—Ä—ñ–∞–ª (callback)
    B->>DB: –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
    DB-->>B: –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
    B-->>U: Inline-–∫–Ω–æ–ø–∫–∏ –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

    U->>B: –û–±–∏—Ä–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é (callback)
    B->>DB: –û—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é
    DB-->>B: –°–ø–∏—Å–æ–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤
    B-->>U: Inline-–∫–Ω–æ–ø–∫–∏ –∑ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

    U->>B: –û–±–∏—Ä–∞—î —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (callback)
    B->>S: findModes(materialId, toolId, page=1)
    S->>DB: SELECT modes + votes COUNT
    DB-->>S: –†–µ–∂–∏–º–∏ –∑ —Ä–µ–π—Ç–∏–Ω–≥–æ–º
    S-->>B: –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
    B-->>U: –†–µ–∂–∏–º–∏ + –∫–Ω–æ–ø–∫–∏ [üëç üëé ‚≠ê üí¨ ‚óÄ ‚ñ∂]
```

### Sequence –¥—ñ–∞–≥—Ä–∞–º–∞: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ–∂–∏–º—É –∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—î—é (UC-8 ‚Üí UC-14)

```mermaid
sequenceDiagram
    actor U as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant B as Telegram Bot
    participant S as CuttingModeService
    participant DB as PostgreSQL
    actor A as –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä

    U->>B: "–ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–∂–∏–º"
    B-->>U: –ó–∞–ø–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤

    U->>B: –û–±–µ—Ä—Ç–∏: 18000
    U->>B: –ü–æ–¥–∞—á–∞: 3600
    U->>B: –ì–ª–∏–±–∏–Ω–∞: 3–º–º

    B->>S: createMode(data, status=PENDING)
    S->>DB: INSERT cutting_mode
    DB-->>S: OK
    S-->>B: –†–µ–∂–∏–º —Å—Ç–≤–æ—Ä–µ–Ω–æ
    B-->>U: "–†–µ–∂–∏–º –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é"
    B-->>A: –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è: "–ù–æ–≤–∏–π —Ä–µ–∂–∏–º –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó"

    A->>B: –í—ñ–¥–∫—Ä–∏–≤–∞—î —á–µ—Ä–≥—É –º–æ–¥–µ—Ä–∞—Ü—ñ—ó
    B->>DB: SELECT modes WHERE status=PENDING
    DB-->>B: –°–ø–∏—Å–æ–∫ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó
    B-->>A: –†–µ–∂–∏–º –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ + [–°—Ö–≤–∞–ª–∏—Ç–∏ | –í—ñ–¥—Ö–∏–ª–∏—Ç–∏]

    A->>B: "–°—Ö–≤–∞–ª–∏—Ç–∏" (callback)
    B->>S: approveMode(modeId)
    S->>DB: UPDATE status=APPROVED
    DB-->>S: OK
    S-->>B: –°—Ö–≤–∞–ª–µ–Ω–æ
    B-->>A: "–†–µ–∂–∏–º —Å—Ö–≤–∞–ª–µ–Ω–æ"
    B-->>U: "–í–∞—à —Ä–µ–∂–∏–º —Å—Ö–≤–∞–ª–µ–Ω–æ —Ç–∞ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ"
```

### Sequence –¥—ñ–∞–≥—Ä–∞–º–∞: –û—Ü—ñ–Ω–∫–∞ —Ç–∞ –∫–æ–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è (UC-4, UC-5)

```mermaid
sequenceDiagram
    actor U as –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á
    participant B as Telegram Bot
    participant DB as PostgreSQL

    Note over U,DB: –õ–∞–π–∫ / –î–∏–∑–ª–∞–π–∫
    U->>B: –ù–∞—Ç–∏—Å–∫–∞—î üëç (callback)
    B->>DB: UPSERT vote (user_id, mode_id, is_like=true)
    DB-->>B: OK
    B->>DB: SELECT COUNT likes, dislikes
    DB-->>B: –û–Ω–æ–≤–ª–µ–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥
    B-->>U: –û–Ω–æ–≤–ª–µ–Ω—ñ –∫–Ω–æ–ø–∫–∏ [üëç 12  üëé 3]

    Note over U,DB: –ö–æ–º–µ–Ω—Ç–∞—Ä
    U->>B: –ù–∞—Ç–∏—Å–∫–∞—î üí¨ (callback)
    B-->>U: "–í–≤–µ–¥—ñ—Ç—å –∫–æ–º–µ–Ω—Ç–∞—Ä"
    U->>B: "–ß—É–¥–æ–≤–æ –ø—Ä–∞—Ü—é—î –Ω–∞ –±–µ—Ä–µ–∑–æ–≤—ñ–π —Ñ–∞–Ω–µ—Ä—ñ"
    B->>DB: INSERT comment
    DB-->>B: OK
    B-->>U: "–ö–æ–º–µ–Ω—Ç–∞—Ä –¥–æ–¥–∞–Ω–æ"
```

## Use Cases

### UC-1: –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î –∫–∞—Ç–∞–ª–æ–≥ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ |
| 2 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ (–ü–ª–∏—Ç–∏, –ú–µ—Ç–∞–ª–∏ —Ç–æ—â–æ) |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é |
| 4 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ —É –æ–±—Ä–∞–Ω—ñ–π –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó |

---

### UC-2: –ü–µ—Ä–µ–≥–ª—è–¥ –∫–∞—Ç–∞–ª–æ–≥—É —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î –∫–∞—Ç–∞–ª–æ–≥ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ |
| 2 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ (–ü–∞–∑–æ–≤—ñ, –†–∞–¥—ñ—É—Å–Ω—ñ —Ç–æ—â–æ) |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é |
| 4 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (–∑ –¥—ñ–∞–º–µ—Ç—Ä–∞–º–∏) |

---

### UC-3: –ü–æ—à—É–∫ —Ä–µ–∂–∏–º—ñ–≤ —Ä—ñ–∑–∞–Ω–Ω—è

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –º–∞—Ç–µ—Ä—ñ–∞–ª—É |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ—é —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É |
| 4 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
| 5 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î —Å–ø–∏—Å–æ–∫ —Ä–µ–∂–∏–º—ñ–≤ –∑ —Ä–µ–π—Ç–∏–Ω–≥–æ–º (–ø–æ—Å—Ç–æ—Ä—ñ–Ω–∫–æ–≤–æ) |

---

### UC-4: –û—Ü—ñ–Ω–∫–∞ —Ä–µ–∂–∏–º—É (–ª–∞–π–∫/–¥–∏–∑–ª–∞–π–∫)

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Ä–µ–∂–∏–º (UC-3)

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–ª–∞–π–∫" –∞–±–æ "–¥–∏–∑–ª–∞–π–∫" –Ω–∞ —Ä–µ–∂–∏–º—ñ |
| 2 | –ë–æ—Ç –æ–Ω–æ–≤–ª—é—î —Ä–µ–π—Ç–∏–Ω–≥ —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –¥—ñ—é |

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –ø–æ—Ç—ñ–∫:** –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∂–µ –≥–æ–ª–æ—Å—É–≤–∞–≤ ‚Äî –≥–æ–ª–æ—Å –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∞–±–æ –∑–Ω—ñ–º–∞—î—Ç—å—Å—è.

---

### UC-5: –ö–æ–º–µ–Ω—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Ä–µ–∂–∏–º (UC-3)

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î "–∑–∞–ª–∏—à–∏—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä" |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å —Ç–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è |
| 3 | –ë–æ—Ç –ø—É–±–ª—ñ–∫—É—î –∫–æ–º–µ–Ω—Ç–∞—Ä (–±–µ–∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó) |

---

### UC-6: –î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É –≤ –æ–±—Ä–∞–Ω–µ

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–µ—Ä–µ–≥–ª—è–¥–∞—î —Ä–µ–∂–∏–º (UC-3)

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–í –æ–±—Ä–∞–Ω–µ" |
| 2 | –ë–æ—Ç –∑–±–µ—Ä—ñ–≥–∞—î —Ä–µ–∂–∏–º –≤ –æ–±—Ä–∞–Ω–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |

---

### UC-7: –ü–µ—Ä–µ–≥–ª—è–¥ –æ–±—Ä–∞–Ω–æ–≥–æ

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ä–æ–∑–¥—ñ–ª "–û–±—Ä–∞–Ω–µ" |
| 2 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–µ–∂–∏–º–∏ (–ø–æ—Å—Ç–æ—Ä—ñ–Ω–∫–æ–≤–æ) |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –ø–µ—Ä–µ–π—Ç–∏ –¥–æ –±—É–¥—å-—è–∫–æ–≥–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ–≥–æ —Ä–µ–∂–∏–º—É |

---

### UC-8: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î –º–∞—Ç–µ—Ä—ñ–∞–ª —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–∂–∏–º" |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (–æ–±–µ—Ä—Ç–∏, –ø–æ–¥–∞—á–∞, –≥–ª–∏–±–∏–Ω–∞) |
| 4 | –ë–æ—Ç –Ω–∞–¥—Å–∏–ª–∞—î —Ä–µ–∂–∏–º –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é —Ç–∞ —Å–ø–æ–≤—ñ—â—É—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |

**–ü–æ—Å—Ç—É–º–æ–≤–∞:** –†–µ–∂–∏–º –∑'—è–≤–ª—è—î—Ç—å—Å—è —É —á–µ—Ä–∑—ñ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

---

### UC-9: –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Å–≤–æ–≥–æ —Ä–µ–∂–∏–º—É (–¥–æ —Å—Ö–≤–∞–ª–µ–Ω–Ω—è)

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

**–ü–µ—Ä–µ–¥—É–º–æ–≤–∞:** –†–µ–∂–∏–º —â–µ –Ω–µ —Å—Ö–≤–∞–ª–µ–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å–ø–∏—Å–æ–∫ —Å–≤–æ—ó—Ö –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω–∏—Ö —Ä–µ–∂–∏–º—ñ–≤ |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î —Ä–µ–∂–∏–º –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º "–ù–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó" |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–º—ñ–Ω—é—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ |
| 4 | –ë–æ—Ç –∑–±–µ—Ä—ñ–≥–∞—î –∑–º—ñ–Ω–∏ |

---

### UC-10: –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å–≤–æ–≥–æ —Ä–µ–∂–∏–º—É

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Å–ø–∏—Å–æ–∫ —Å–≤–æ—ó—Ö —Ä–µ–∂–∏–º—ñ–≤ |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î "–í–∏–¥–∞–ª–∏—Ç–∏" –Ω–∞ –æ–±—Ä–∞–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ |
| 3 | –ë–æ—Ç –∑–∞–ø–∏—Ç—É—î –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è |
| 4 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—î –≤–∏–¥–∞–ª–µ–Ω–Ω—è |
| 5 | –ë–æ—Ç –≤–∏–¥–∞–ª—è—î —Ä–µ–∂–∏–º |

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ä–µ–∂–∏–º—ñ–≤ —É –±—É–¥—å-—è–∫–æ–º—É —Å—Ç–∞—Ç—É—Å—ñ (–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó / —Å—Ö–≤–∞–ª–µ–Ω–∏–π).

---

### UC-11: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—É

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î "–ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª" |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤—É –º–∞—Ç–µ—Ä—ñ–∞–ª—É |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î —ñ—Å–Ω—É—é—á—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é |
| 4 | –ë–æ—Ç –Ω–∞–¥—Å–∏–ª–∞—î –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é |

---

### UC-12: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –Ω–æ–≤–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î "–ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç" |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É (–¥—ñ–∞–º–µ—Ç—Ä, —Ö–≤–æ—Å—Ç–æ–≤–∏–∫, OAL, LOC, –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑—É–±—Ü—ñ–≤) |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î —ñ—Å–Ω—É—é—á—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é |
| 4 | –ë–æ—Ç –Ω–∞–¥—Å–∏–ª–∞—î –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é |

---

### UC-13: –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è –Ω–æ–≤–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

**–ê–∫—Ç–æ—Ä:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ–±–∏—Ä–∞—î "–ó–∞–ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é" |
| 2 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–∫–∞–∑—É—î —Ç–∏–ø (–º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∞–±–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏) |
| 3 | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó |
| 4 | –ë–æ—Ç –Ω–∞–¥—Å–∏–ª–∞—î –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü—ñ—é |

---

### UC-14: –ú–æ–¥–µ—Ä–∞—Ü—ñ—è —Ä–µ–∂–∏–º—ñ–≤

**–ê–∫—Ç–æ—Ä:** –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏–≤–∞—î —á–µ—Ä–≥—É –º–æ–¥–µ—Ä–∞—Ü—ñ—ó |
| 2 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω—ñ —Ä–µ–∂–∏–º–∏ –∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ |
| 3 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –æ–±–∏—Ä–∞—î —Ä–µ–∂–∏–º |
| 4 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞—Ç–∏—Å–∫–∞—î "–°—Ö–≤–∞–ª–∏—Ç–∏" –∞–±–æ "–í—ñ–¥—Ö–∏–ª–∏—Ç–∏" |
| 5 | –ë–æ—Ç –æ–Ω–æ–≤–ª—é—î —Å—Ç–∞—Ç—É—Å —Ç–∞ —Å–ø–æ–≤—ñ—â—É—î –∞–≤—Ç–æ—Ä–∞ |

---

### UC-15: –ú–æ–¥–µ—Ä–∞—Ü—ñ—è –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤, —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

**–ê–∫—Ç–æ—Ä:** –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –≤—ñ–¥–∫—Ä–∏–≤–∞—î —á–µ—Ä–≥—É –º–æ–¥–µ—Ä–∞—Ü—ñ—ó –∫–∞—Ç–∞–ª–æ–≥—É |
| 2 | –ë–æ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –∑–∞–ø—Ä–æ–ø–æ–Ω–æ–≤–∞–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ (–º–∞—Ç–µ—Ä—ñ–∞–ª–∏/—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏/–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó) |
| 3 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä —Å—Ö–≤–∞–ª—é—î –∞–±–æ –≤—ñ–¥—Ö–∏–ª—è—î –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é |
| 4 | –ë–æ—Ç –æ–Ω–æ–≤–ª—é—î –∫–∞—Ç–∞–ª–æ–≥ (–ø—Ä–∏ —Å—Ö–≤–∞–ª–µ–Ω–Ω—ñ) —Ç–∞ —Å–ø–æ–≤—ñ—â—É—î –∞–≤—Ç–æ—Ä–∞ |

---

### UC-16: –ü—Ä—è–º–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É (–∞–¥–º—ñ–Ω)

**–ê–∫—Ç–æ—Ä:** –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –æ–±–∏—Ä–∞—î "–î–æ–¥–∞—Ç–∏" (–º–∞—Ç–µ—Ä—ñ–∞–ª / —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç / –∫–∞—Ç–µ–≥–æ—Ä—ñ—é) |
| 2 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –≤–≤–æ–¥–∏—Ç—å –¥–∞–Ω—ñ |
| 3 | –ë–æ—Ç –¥–æ–¥–∞—î –µ–ª–µ–º–µ–Ω—Ç –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É –±–µ–∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó |

---

### UC-17: –ü—Ä—è–º–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É (–∞–¥–º—ñ–Ω)

**–ê–∫—Ç–æ—Ä:** –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä

| –ö—Ä–æ–∫ | –î—ñ—è |
|------|-----|
| 1 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –æ–±–∏—Ä–∞—î –º–∞—Ç–µ—Ä—ñ–∞–ª —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç |
| 2 | –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ä–µ–∂–∏–º—É |
| 3 | –ë–æ—Ç –ø—É–±–ª—ñ–∫—É—î —Ä–µ–∂–∏–º –±–µ–∑ –º–æ–¥–µ—Ä–∞—Ü—ñ—ó |
